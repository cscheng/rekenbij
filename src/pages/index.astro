---
import Header from "../components/Header.astro";
import BaseLayout from "../layouts/BaseLayout.astro";
import { getStaticPaths } from "./[category].astro";

const categories = getStaticPaths();
---

<style>
  main {
    margin: 0 auto;
    max-width: var(--max-width);
  }

  h1 {
    margin: 0 0 1rem;
    font-weight: normal;
    color: var(--text-color);
  }

  ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 8px;
  }

  nav a {
    display: flex;
    flex-direction: column;
    border-radius: var(--card-border-radius);
    text-decoration: none;
    overflow: hidden;
    transition: background-color 0.1s;
    background-color: #f5f5f5;

    .card-top {
      height: var(--card-top-height);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3rem;
      font-weight: bold;
      border-radius: 0 0 var(--card-border-radius) var(--card-border-radius);
    }

    .card-body {
      padding: var(--card-padding);
      color: var(--text-color);
      font-size: 20px;
    }

    &[data-category="plussommen"] {
      .card-top {
        background-color: color-mix(in srgb, var(--green-color) 30%, white);
        color: var(--green-color);

        &::before {
          content: "+";
        }
      }

      &:hover {
        background-color: color-mix(in srgb, var(--green-color) 40%, white);
      }
    }

    &[data-category="minsommen"] {
      .card-top {
        background-color: color-mix(in srgb, var(--orange-color) 30%, white);
        color: var(--orange-color);

        &::before {
          content: "−";
        }
      }

      &:hover {
        background-color: color-mix(in srgb, var(--orange-color) 40%, white);
      }
    }

    &[data-category="tafels"] {
      .card-top {
        background-color: color-mix(in srgb, var(--blue-color) 30%, white);
        color: var(--blue-color);

        &::before {
          content: "×";
        }
      }

      &:hover {
        background-color: color-mix(in srgb, var(--blue-color) 40%, white);
      }
    }
  }
</style>

<BaseLayout>
  <Header />
  <main>
    <nav>
      <ul>
        {
          categories.map((category) => (
            <li>
              <a
                href={`/${category.params.category}`}
                data-category={category.params.category}
              >
                <div class="card-top" />
                <div class="card-body">{category.props.title}</div>
              </a>
            </li>
          ))
        }
      </ul>
    </nav>
  </main>
</BaseLayout>
