---
import Quiz from "../components/Quiz.tsx";
import BaseLayout from "../layouts/BaseLayout.astro";
import { getQuizPaths } from "../routes";

export const getStaticPaths = () => {
  return getQuizPaths();
};

const { title, quiz } = Astro.props;

const pathSegments = Astro.url.pathname.split("/").filter(Boolean);
const parentPath = `/${pathSegments.slice(0, -1).join("/")}/`;
---

<style>
  header {
    position: absolute;
    top: 0;
    left: 0;
    z-index: 1;
    width: 100%;

    nav {
      margin: 0 auto;
      padding: 0.5rem 1rem;
      max-width: 1000px;
      height: var(--top-bar-height);

      a {
        display: inline-block;
        transition: background-color 0.2s;
        border-radius: 50%;
        background-color: #e2e8f0;
        width: 32px;
        height: 32px;
        color: white;
        font-size: 16px;
        line-height: 32px;
        text-align: center;
        text-decoration: none;

        &:hover {
          background-color: var(--color-grey);
        }
      }
    }
  }
</style>

<BaseLayout title={title}>
  <header>
    <nav>
      <a href={parentPath}>&times;</a>
    </nav>
  </header>
  <main>
    <Quiz {...quiz} client:only="react" />
  </main>
</BaseLayout>
